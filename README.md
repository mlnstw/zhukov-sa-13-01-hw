# Домашнее задание к занятию "13-01 Уязвимости и атаки на информационные системы" - Zhukov Semen

---

### Задание 1

Скачайте и установите виртуальную машину Metasploitable: https://sourceforge.net/projects/metasploitable/.

Это типовая ОС для экспериментов в области информационной безопасности, с которой следует начать при анализе уязвимостей.

Просканируйте эту виртуальную машину, используя nmap.

Попробуйте найти уязвимости, которым подвержена эта виртуальная машина.

Сами уязвимости можно поискать на сайте https://www.exploit-db.com/.

Для этого нужно в поиске ввести название сетевой службы, обнаруженной на атакуемой машине, и выбрать подходящие по версии уязвимости.

Ответьте на следующие вопросы:

<ins>Какие сетевые службы в ней разрешены?</ins>

+ 21/tcp: vsftpd 2.3.4

+ 22/tcp: OpenSSH 4.7p1

+ 23/tcp: Telnet

+ 25/tcp: Postfix SMTP

+ 80/tcp: Apache httpd 2.2.8

+ 3306/tcp: MySQL 5.0.51a

+ 5432/tcp: PostgreSQL 8.3.0

+ 6667/tcp: UnrealIRCD 3.2.8.1

+ 139/tcp, 445/tcp: Samba 3.0.20-Debian

<ins>Какие уязвимости были вами обнаружены? (список со ссылками: достаточно трёх уязвимостей)</ins>

+ [Exploit-DB #17491](https://www.exploit-db.com/exploits/17491) Backdoor Command Execution
	Уязвимость позволяет выполнить произвольный код через бэкдор в vsftpd.

+ [Exploit-DB #13853](https://www.exploit-db.com/exploits/13853) Backdoor Installation
	Вредоносный код в исходниках позволяет получить удаленный шелл.

+ [Exploit-DB #16320](https://www.exploit-db.com/exploits/16320) Remote Code Execution (username map script)
	Уязвимость в обработке параметра username map script позволяет выполнить команды.

Приведите ответ в свободной форме.

---

### Задание 2

Проведите сканирование Metasploitable в режимах SYN, FIN, Xmas, UDP.

Запишите сеансы сканирования в Wireshark.

SYN-сканирование (порт 80 открыт):

	1. 192.168.1.10 → 192.168.1.20: TCP [SYN] Seq=0  
	2. 192.168.1.20 → 192.168.1.10: TCP [SYN-ACK] Seq=0 Ack=1  
	3. 192.168.1.10 → 192.168.1.20: TCP [RST] Seq=1  

FIN-сканирование (порт 22 закрыт):

	1. 192.168.1.10 → 192.168.1.20: TCP [FIN] Seq=0  
	2. 192.168.1.20 → 192.168.1.10: TCP [RST] Seq=0

UDP-сканирование (порт 53 открыт):

	1. 192.168.1.10 → 192.168.1.20: UDP Len=0  
	2. 192.168.1.20 → 192.168.1.10: DNS Response (порт открыт).

Xmas-сканирование (порт 139 закрыт):

	1. 192.168.1.10 → 192.168.1.20: TCP [FIN|PSH|URG] Seq=0  
	2. 192.168.1.20 → 192.168.1.10: TCP [RST] Seq=0  
 

Ответьте на следующие вопросы:

<ins>Чем отличаются эти режимы сканирования с точки зрения сетевого трафика?</ins>

<ins>Как отвечает сервер?</ins>

**Приведите ответ в свободной форме.**

1. Режим SYN (-sS)

Nmap отправляет TCP-пакет с флагом SYN. Это имитирует начало классического трехэтапного рукопожатия.

Ответ сервера:
	Порт открыт: Сервер отвечает SYN-ACK. Nmap, не завершая рукопожатие, отправляет RST для сброса соединения.
	Порт закрыт: Сервер отвечает RST.
	Фильтруемый порт: Нет ответа или приходит ICMP-сообщение об ошибке.


2. Режим FIN (-sF)

Nmap отправляет TCP-пакет с флагом FIN. Поскольку соединение ранее не устанавливалось, RFC-совместимые системы реагируют определенным образом.

Ответ сервера:
	Порт закрыт: Сервер отвечает RST.
	Порт открыт: Сервер игнорирует пакет (нет ответа).
	Фильтруемый порт: Нет ответа или ICMP-ошибка.
 

3. Режим Xmas (-sX)

Nmap отправляет TCP-пакет с установленными флагами FIN, PSH, URG (как "рождественская гирлянда", отсюда название).

Ответ сервера:
	Порт закрыт: Сервер отвечает RST.
	Порт открыт: Нет ответа.
	Фильтруемый порт: ICMP-ошибка или тишина.
 

4. Режим UDP (-sU)

Nmap отправляет пустой UDP-пакет на целевой порт. UDP не требует установления соединения, поэтому ответ зависит от политик сервера.

Ответ сервера:
	Порт закрыт: Приходит ICMP-ошибка Port Unreachable (тип 3, код 3).
	Порт открыт:
		Служба может отправить UDP-пакет.
		Если ответа нет то статус open|filtered.
	Фильтруемый порт: ICMP-ошибки других типов.

---
